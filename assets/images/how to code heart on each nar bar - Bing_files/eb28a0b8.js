var SerpKeyboardNavigation;(function(){function c(){s=_d.activeElement;n=null;r=null;f=!1;t=-1;nt();r=_w.NavSelector&&NavSelector(!1)}function p(){v();n=null}function w(n){var f,i;n&&(n.keyCode==9&&o&&(u("TOP"),o=!1),f=_d.activeElement,r&&f&&f.className!=="b_searchbox"&&(n.keyCode==13?u(t==-1?"EN":"EE",t):b(n)&&(i=k(n.keyCode),i!==-1&&i!==t&&(tt(i),sj_pd(n)))))}function u(n,t){sj_log("CI.SerpKeyboardNav",n,t?t.toString():"")}function b(t){return n||s==_d.activeElement?t.altKey||t.ctrlKey?!1:!0:!1}function k(n){return n===9?d():n===40||n===38?document.activeElement&&document.activeElement.tagName.toLowerCase()==="select"?-1:g(n===40):-1}function d(){var i=-1;return n?(v(),f=!0,t=-1,u("TO")):(i=0,u("TI")),i}function g(i){var e=-1,s,h,o;return n&&(f?(f=!1,s=r.indexOf(_d.activeElement),s!==-1?e=l(i,s):(h=_w.NavSelector&&NavSelector(!0),o=h.indexOf(_d.activeElement),o!==-1&&(e=a(i?o:o-1)))):e=l(i,t),u(i?"AD":"AU",e)),e}function l(n,t){return a(n?t+1:t-1)}function a(n){return Math.max(Math.min(n,r.length-1),0)}function nt(){i=sj_ce("div","kn_p");e=sj_ce("span",y);e.innerHTML="â–º";i.appendChild(e);e.title="Use the up and down arrow keys to focus results"}function tt(u){t=u;n=r[t];n&&n.parentNode&&(n.parentNode.insertBefore(i,n.parentNode.firstChild),it(i),n.setAttribute("aria-live","true"),n.focus())}function v(){i&&i.parentNode&&i.parentNode.removeChild(i)}function it(n){var t=n.getBoundingClientRect();t.bottom>window.innerHeight&&n.scrollIntoView()}var n,r,t=-1,f=!1,y="kn_a",i,e,o=!0,s,h;(function(n){n[n.Up=38]="Up";n[n.Down=40]="Down";n[n.Tab=9]="Tab";n[n.Enter=13]="Enter"})(h||(h={}));sj_be(_d,"keydown",w);sj_be(_d.body,"mousedown",p,!0);sj_evt.bind("ajax.load",c,1,1);c()})(SerpKeyboardNavigation||(SerpKeyboardNavigation={}))